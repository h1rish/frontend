version: "1.0"

stages:
  build:
    buildTool: npm
    buildToolVersion: N18
    targets:
      - name: frontend
        type: html5
        path: build   # React build folder
        config:
          appName: react-frontend-app
          service: my-html5-repo-key  # Your HTML5 service key
          apiEndpoint: https://your-api-endpoint.com  # Optional env variable for your app
          deployTarget: html5

  acceptance:
    approval:
      required: false

  release:
    targets:
      - name: frontend
        type: html5
        service: my-html5-repo-key
        deployTarget: html5

settings:
  build:
    env:
      NODE_ENV: production
  deploy:
    env:
      REACT_APP_API: ${apiEndpoint}  # Optional, pass env vars to app
