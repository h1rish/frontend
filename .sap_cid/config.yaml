stages:

  install:
    type: npm
    buildTool: npm
    buildToolVersion: 9.8.1   # example; use your Node/npm version
    commands:
      - install

  build:
    type: npm
    buildTool: npm
    buildToolVersion: 9.8.1
    commands:
      - run build             # generates /build folder

  deploy-html5:
    type: html5-deploy
    service: my-html5-repo-key   # service connection created in BTP
    appName: my-react-app
    sourcePath: build
    envVars:
      REACT_APP_API_ENDPOINT: ${API_ENDPOINT}
      REACT_APP_OTHER_VAR: ${OTHER_VAR}
